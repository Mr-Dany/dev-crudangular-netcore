<div class="container mt-5">
  <div class="row">
    <div class="col-lg-8 offset-lg-2">
      <div class="card">
        <div class="card-body">
          <h3 class="titulo">TARJETA CREDITO</h3>
        </div>
      </div>
    </div>
  </div>
  <div class="row mt-4">
    <div class="col-lg-6">
      <div class="card">
        <div class="card body">
          <h5 class="titulo">AGREGAR TARJETA</h5>
          <!-- FORMULARIO PARA GUARDAR LOS DATOS DE LA TARJETA -->
          <div style="margin: 10px">
            <!-- formgroup par decir que los valores se guarden en la variable form
            ngsubmit para guardar el formulario en la funcion agregarTarjeta -->
            <form [formGroup]="form" (ngSubmit)="agregarTarjeta()">
              <!-- Entradas de datos -->
              <div class="input-group mb-3">
                <span class="input-group-text">
                  <i
                    class="fas fa-user"
                    [class.green-icon]="this.form.get('titular')?.valid"
                    [class.red-icon]="
                      this.form.get('titular')?.valid &&
                      this.form.get('titular')?.touched
                    "
                  ></i>
                </span>
                <input
                  formControlName="titular"
                  type="text"
                  class="form-control"
                  placeholder="Titular"
                />
              </div>

              <div class="input-group mb-3">
                <span class="input-group-text">
                  <i
                    class="fas fa-credit-card"
                    [class.green-icon]="this.form.get('numeroTarjeta')?.valid"
                    [class.red-icon]="
                      this.form.get('numeroTarjeta')?.valid &&
                      this.form.get('numeroTarjeta')?.touched
                    "
                  ></i>
                </span>
                <input
                  formControlName="numeroTarjeta"
                  maxlength="16"
                  type="text"
                  class="form-control"
                  placeholder="Numero de Tarjeta"
                />
              </div>

              <div class="row">
                <div class="col-lg-7">
                  <div class="input-group mb-3">
                    <span class="input-group-text">
                      <i
                        class="fas fa-calendar-alt"
                        [class.green-icon]="this.form.get('fechaExpiracion')?.valid"
                        [class.red-icon]="
                          this.form.get('fechaExpiracion')?.valid &&
                          this.form.get('fechaExpiracion')?.touched
                        "
                      ></i>
                    </span>
                    <input
                      formControlName="fechaExpiracion"
                      maxlength="5"
                      type="text"
                      class="form-control"
                      placeholder="MM/YY"
                    />
                  </div>
                </div>
                <div class="col-lg-5">
                  <div class="input-group mb-3">
                    <span class="input-group-text">
                      <i
                        class="fas fa-key"
                        [class.green-icon]="this.form.get('cvv')?.valid"
                        [class.red-icon]="
                          this.form.get('cvv')?.valid &&
                          this.form.get('cvv')?.touched
                        "
                      ></i>
                    </span>
                    <input
                      formControlName="cvv"
                      maxlength="3"
                      type="text"
                      class="form-control"
                      placeholder="CVV"
                    />
                  </div>
                </div>
              </div>

              <div class="d-grid gap-2">
                <button [disabled]="this.form.invalid" type="submit" class="btn btn-success btn-lg">
                  <i class="fas fa-save"></i>&nbsp; Guardar
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
    <div class="col lg-6">
      <div class="card">
        <div class="card body">
          <h5 class="titulo">LISTADO DE TARJETAS</h5>
          <!-- tabla de registros -->
          <div style="margin: 10px">
            <table class="table">
              <tbody>
                <tr *ngFor="let tarjeta of listTarjetas">
                  <td>{{ tarjeta.titular }}</td>
                  <td>{{ tarjeta.numeroTarjeta }}</td>
                  <td>{{ tarjeta.fechaExpedicion }}</td>
                  <td><i class="far fa-edit text-info"></i></td>
                  <td><i class="far fa-trash-alt text-danger"></i></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
